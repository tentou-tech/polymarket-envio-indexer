#######################################################
# Entity Related to Wallet Indexer
#######################################################

type Wallet {
  "wallet address"
  id: ID!
  "signer address"
  signer: String!
  "'proxy' or 'safe'"
  walletType: WalletType!
  "USDC.e balance"
  balance: BigInt!
  "Last transfer timestamp"
  lastTransfer: Int!
  "Creation timestamp"
  createdAt: Int!
}

enum WalletType {
  Proxy
  Safe
}

type GlobalUSDCBalance {
  "Empty string"
  id: ID!
  "Global USDC.e balance"
  balance: BigInt!
}

#######################################################
# Entity Related to UMA Sports Oracle
#######################################################

enum Ordering {
  Home
  Away
}

enum GameState {
  Created
  Settled
  Canceled
  Paused
  EmergencySettled
}

type Game {
  "The Game ID"
  id: ID!
  "Ancillary Data"
  ancillaryData: String!
  "The ordering of the game"
  ordering: Ordering!
  "The state of the game"
  state: GameState!
  "The score of the home team"
  homeScore: BigInt!
  "The score of the away team"
  awayScore: BigInt!
}

enum MarketState {
  Created
  Resolved
  Paused
  EmergencyResolved
}

enum MarketType {
  moneyline
  spreads
  totals
}

type Market {
  "The Market Id"
  id: ID!
  "The Game Id the Market is linked to"
  gameId: String!
  "The state of the Market"
  state: MarketState!
  "The Market type"
  marketType: MarketType!
  "The underdog of the Market, must be home or away, used for Spreads"
  underdog: String!
  "The line of Market, used for Spreads and Totals"
  line: BigInt!
  "The payouts set when the Market is resolved"
  payouts: [BigInt!]!
}

#######################################################
# Orderbook Related Entities
#######################################################

type MarketData {
  "ERC1155 TokenID of the CTF Asset"
  id: ID!
  "Condition that the token is linked to"
  condition: String!
  "Outcome Index, may not be present if an FPMM is not created"
  outcomeIndex: BigInt
}

type OrderFilledEvent {
  "Transaction hash + Order hash"
  id: ID!
  "Transaction hash"
  transactionHash: String!
  "Timestamp at which filled occurred"
  timestamp: Int!
  orderHash: String!
  "Addresses of the maker and the taker"
  maker: String!
  taker: String!
  "Maker assetId"
  makerAssetId: String!
  "Taker assetId"
  takerAssetId: String!
  "Maker amount filled"
  makerAmountFilled: BigInt!
  "Taker amount filled"
  takerAmountFilled: BigInt!
  "Fee paid by the order maker"
  fee: BigInt!
}

# Exchange OrdersMatched event stored directly
type OrdersMatchedEvent @entity {
  "Transaction Hash"
  id: ID!
  "Timestamp at which filled occurred"
  timestamp: Int!
  "Maker asset Id"
  makerAssetID: BigInt!
  "Taker asset Id"
  takerAssetID: BigInt!
  "Maker amount filled"
  makerAmountFilled: BigInt!
  "Taker amount filled"
  takerAmountFilled: BigInt!
}

type Orderbook @entity {
  "Token Id"
  id: ID!
  "Number of trades of any kind against this order book"
  tradesQuantity: BigInt!
  "Number of purchases of shares from this order book"
  buysQuantity: BigInt!
  "Number of sales of shares to this order book"
  sellsQuantity: BigInt!
  "Market volume in terms of the underlying collateral value"
  collateralVolume: BigInt!
  "Volume scaled by the number of decimals of collateralToken"
  scaledCollateralVolume: BigDecimal!
  "Global volume of share purchases in USDC base units"
  collateralBuyVolume: BigInt!
  "Global volume of share purchases in USDC scaled by 10^6"
  scaledCollateralBuyVolume: BigDecimal!
  "Global volume of share sales in USDC base units"
  collateralSellVolume: BigInt!
  "Global volume of share sales in USDC scaled by 10^6"
  scaledCollateralSellVolume: BigDecimal!
}

# Exchange: all trades aggregated
type OrdersMatchedGlobal @entity {
  "ID is empty string, this is a singleton"
  id: ID!

  "Number of trades of any kind for all order books"
  tradesQuantity: BigInt!
  "Number of purchases of shares from any order book"
  buysQuantity: BigInt!
  "Number of sales of shares to any order book"
  sellsQuantity: BigInt!

  "Global volume in USDC base units"
  collateralVolume: BigDecimal!
  "Global volume in USDC scaled by 10^6"
  scaledCollateralVolume: BigDecimal!

  "Global volume of share purchases in USDC base units"
  collateralBuyVolume: BigDecimal!
  "Global volume of share purchases in USDC scaled by 10^6"
  scaledCollateralBuyVolume: BigDecimal!
  "Global volume of share sales in USDC base units"
  collateralSellVolume: BigDecimal!
  "Global volume of share sales in USDC scaled by 10^6"
  scaledCollateralSellVolume: BigDecimal!
}
